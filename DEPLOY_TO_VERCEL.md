# üöÄ DEPLOY OASIS BI PRO DUITKU V2.1 TO VERCEL

## ‚úÖ STATUS SAAT INI

### ‚úÖ SELESAI:
1. ‚úÖ **Legal Pages Fixed** - Added `'use client'` directive to all legal pages
2. ‚úÖ **Duitku Integration** - Updated with your credentials:
   - Merchant Code: `DS26338`
   - API Key: `ce2e52f9b81419c260adfd646c1cffdd`
   - Mode: Sandbox (testing)
3. ‚úÖ **GitHub Repository** - Pushed to: `https://github.com/Estes786/oasis-bi-pro-duitku-v2.1`
4. ‚úÖ **Vercel Config** - Ready for deployment

---

## üìã DEPLOY TO VERCEL (3 MENIT)

### STEP 1: Import Repository to Vercel

1. **Buka Vercel**: https://vercel.com/
2. **Login** dengan GitHub account Anda (Estes786)
3. **Click "Add New..."** ‚Üí **"Project"**
4. **Import Git Repository**:
   - Pilih repository: `Estes786/oasis-bi-pro-duitku-v2.1`
   - Click **"Import"**

### STEP 2: Configure Environment Variables

Sebelum deploy, **TAMBAHKAN ENVIRONMENT VARIABLES** ini:

\`\`\`bash
# Duitku Payment Gateway (SUDAH TERCONFIGURED - JANGAN DIUBAH)
NEXT_PUBLIC_DUITKU_MERCHANT_CODE=DS26338
DUITKU_API_KEY=ce2e52f9b81419c260adfd646c1cffdd
DUITKU_SANDBOX_MODE=true

# App URLs (UPDATE SETELAH DEPLOY)
NEXT_PUBLIC_APP_URL=https://your-project.vercel.app
NEXT_PUBLIC_API_URL=https://your-project.vercel.app/api

# Supabase (OPSIONAL - Jika butuh database)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
\`\`\`

**CARA TAMBAHKAN:**
1. Di Vercel project settings
2. Click **"Environment Variables"** tab
3. Tambahkan satu per satu variable di atas
4. Click **"Save"**

### STEP 3: Deploy

1. Setelah env variables ditambahkan, click **"Deploy"**
2. Tunggu 2-3 menit (Vercel akan build project)
3. Setelah selesai, Anda akan dapat **LIVE URL**: `https://oasis-bi-pro-duitku-v2.1.vercel.app`

---

## üß™ TEST DUITKU PAYMENT FLOW

Setelah deployed, test payment flow:

### 1. Buka Website
\`\`\`
https://your-project.vercel.app
\`\`\`

### 2. Navigate ke Pricing/Checkout Page
- Pilih salah satu subscription plan
- Click **"Subscribe Now"** atau **"Checkout"**

### 3. Test Payment
- Akan muncul halaman payment dengan metode Duitku
- Pilih metode payment (VA BCA, Mandiri, OVO, DANA, dll)
- Sistem akan redirect ke **Duitku Sandbox Payment Page**
- Gunakan test credentials dari Duitku untuk complete payment

### 4. Verify Transaction
- Setelah payment, check dashboard untuk konfirmasi
- Transaction ID dan status harus muncul

---

## üìä DUITKU SANDBOX TESTING

### Test Payment Methods:

**Virtual Account (BCA):**
- Merchant Code: `DS26338`
- API Key: `ce2e52f9b81419c260adfd646c1cffdd`
- Test VA Number: Will be generated by Duitku

**E-Wallet (OVO/DANA):**
- Test Phone: `081234567890`
- OTP: `123456` (sandbox)

**QRIS:**
- Scan QR code yang muncul
- Atau gunakan test QRIS simulator dari Duitku

### Sandbox URLs:
- **Payment Page**: `https://sandbox.duitku.com/`
- **API Endpoint**: `https://sandbox.duitku.com/webapi/api`
- **Merchant Dashboard**: `https://sandbox.duitku.com/merchant`

---

## üîç VERIFY INTEGRATION

### Check Duitku Integration:

1. **Check Payment Methods API**:
\`\`\`bash
# Akan fetch available payment methods dari Duitku
GET /api/duitku/payment-methods?amount=299000
\`\`\`

2. **Check Create Payment API**:
\`\`\`bash
# Create payment transaction
POST /api/duitku/create-payment
{
  "amount": 299000,
  "productDetails": "OASIS BI PRO - Starter Plan",
  "paymentMethod": "BV",
  "customerEmail": "test@example.com",
  "customerName": "Test User"
}
\`\`\`

3. **Check Transaction Status**:
\`\`\`bash
# Verify payment status
GET /api/duitku/check-status?orderId=OASIS-1234567890
\`\`\`

---

## üêõ TROUBLESHOOTING

### Legal Pages Blank/White?
‚úÖ **SUDAH FIXED** - Ditambahkan `'use client'` directive di semua legal pages:
- `/legal/privacy` ‚úÖ
- `/legal/terms` ‚úÖ
- `/legal/refund` ‚úÖ
- `/legal/contact` ‚úÖ
- `/legal/faq` ‚úÖ
- `/legal/cookies` ‚úÖ
- `/legal/dpa` ‚úÖ

### Duitku Payment Not Working?
1. Check credentials di environment variables (harus exact match)
2. Check sandbox mode = `true`
3. Check API responses di browser console/network tab
4. Verify Duitku sandbox is accessible

### Build Failed on Vercel?
1. Check build logs di Vercel dashboard
2. Mungkin perlu tambah: `npm install --legacy-peer-deps` di build command
3. Check Node.js version (should be 18+)

---

## üìù NEXT STEPS AFTER DEPLOYMENT

### 1. Update Environment Variables
Setelah deployed, update `NEXT_PUBLIC_APP_URL` dengan actual Vercel URL:
\`\`\`bash
NEXT_PUBLIC_APP_URL=https://oasis-bi-pro-duitku-v2.1.vercel.app
NEXT_PUBLIC_API_URL=https://oasis-bi-pro-duitku-v2.1.vercel.app/api
\`\`\`

### 2. Test All Legal Pages
Verify semua legal pages accessible:
- https://your-project.vercel.app/legal/privacy ‚úÖ
- https://your-project.vercel.app/legal/terms ‚úÖ
- https://your-project.vercel.app/legal/refund ‚úÖ
- https://your-project.vercel.app/legal/contact ‚úÖ
- https://your-project.vercel.app/legal/faq ‚úÖ
- https://your-project.vercel.app/legal/cookies ‚úÖ
- https://your-project.vercel.app/legal/dpa ‚úÖ

### 3. Test Duitku Payment Flow
1. Go to pricing page
2. Select subscription plan
3. Complete checkout dengan Duitku
4. Verify transaction di dashboard

### 4. Configure Duitku Webhook (IMPORTANT!)
Setelah test berhasil, configure webhook di Duitku Merchant Dashboard:

**Callback URL:**
\`\`\`
https://your-project.vercel.app/api/duitku/callback
\`\`\`

**Return URL:**
\`\`\`
https://your-project.vercel.app/payment/success
\`\`\`

---

## üéØ HASIL YANG DIHARAPKAN

Setelah deployment selesai, Anda akan punya:

‚úÖ **Live Website** di Vercel
‚úÖ **Legal Pages** berfungsi normal (tidak blank)
‚úÖ **Duitku Integration** terintegrasi dengan sandbox
‚úÖ **Payment Checkout** menampilkan halaman Duitku
‚úÖ **Transaction Flow** complete dari checkout ‚Üí payment ‚Üí verification

---

## üìû NEED HELP?

Jika ada issue saat deployment:
1. Check Vercel build logs
2. Check browser console untuk errors
3. Test Duitku API directly via Postman/curl
4. Contact Duitku support untuk sandbox issues

---

## ‚úÖ DEPLOYMENT CHECKLIST

Sebelum deploy, pastikan:

- [x] GitHub repository accessible
- [x] Legal pages fixed (added 'use client')
- [x] Duitku credentials updated (DS26338)
- [x] Vercel config created
- [ ] Vercel account ready
- [ ] Environment variables prepared
- [ ] Deploy button clicked
- [ ] Test payment flow
- [ ] Verify legal pages
- [ ] Configure webhooks

---

**Repository**: https://github.com/Estes786/oasis-bi-pro-duitku-v2.1
**Status**: ‚úÖ READY TO DEPLOY
**Time Needed**: ~3 minutes

**SILAHKAN DEPLOY SEKARANG!** üöÄ
